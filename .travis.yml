language: cpp
compiler:
  - clang
  - gcc
before_install:
  - sudo add-apt-repository --yes ppa:beineri/opt-qt511
  - sudo add-apt-repository --yes ppa:limparissoft/opencv-ppa
  - sudo add-apt-repository --yes ppa:ubuntu-toolchain-r/test
  - sudo apt-get update -qq
install:
  - sudo apt-get install cmake qt51base qt51quickcontrols opencv libmagic1 libmagic-dev g++-4.8
before_script:
  - update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 50
  - source /opt/qt51/bin/qt51-env.sh
  - cd src
  - export CMAKE_PREFIX_PATH=`pwd`/Qt3D-prefix/opt/qt51/lib/cmake/
  - cmake -DALGORITHMS='adjuster' .
script:
  - make
after_script:
  - ls -lah arstudio
  - ldd arstudio
